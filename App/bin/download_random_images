#!/bin/bash

declare -i IMAGES_COUNT=5

filename() {
  printf "%04d.jpg" $1
}

bin_dir=$(cd `dirname $0`; pwd)
images_dir=$bin_dir/../src/autogenerated/images_dir

rm -rfv "$images_dir"
mkdir -p "$images_dir"

index_js="$images_dir/index.js"

echo "export default [" >> "$index_js"
for ((i=0; i<$IMAGES_COUNT; i++)); do
  curl -o "$images_dir/`filename $i`" "http://lorempixel.com/50/50/"
  echo "  '`filename $i`'," >> "$index_js"
done
echo "];" >> "$index_js"

for ((i=0; i<$IMAGES_COUNT; i++)); do
  echo "require('./`filename $i`');" >> "$index_js"
done
